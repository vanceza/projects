#!/bin/sh
cd $(dirname "$0")
for file in project-*.sh
do
    source "./${file}"
done
cd - >/dev/null

export PROJECTS_HOME=/home/zachary
export PROJECTS_ARCHIVE_DIR=/home/zachary/.projects_archive
export PROJECTS_METADATA_DIR=/home/zachary/projects
export PROJECTS="${PROJECTS_METADATA_DIR}/PROJECTS"

if [ $# -eq 0 ]
then
    project_help
    exit $?
fi

case ${1} in
    archive|fetch|help|lint|list|rm|remote-for|status)
        COMMAND=${1}
        COMMAND="$(echo "$COMMAND" | tr '-' '_')" # Replace - with _ in COMMAND
        shift
        project_${COMMAND} "$@"
        exit $?
        ;;
    *)
        shift
        project_help
        exit $?
        ;;
esac
